## 学习简报 - 2024年06月28日

**总学习时长 (此期间合计)：** 约 5 小时

**学习课程/内容：** 黑马程序员 - 《前端JavaScript入门到精通全套视频教程》 - Web APIs (正则表达式, BOM, 综合案例)

**核心任务：通过大型综合案例实践，全面巩固并深化DOM、BOM、事件及数据存储等核心API的运用。**

**完成内容与学习点：**

### **第一部分：正则表达式 (RegExp) 入门**

1.  **核心用途:**
    *   理解了正则表达式是用于**匹配字符串模式**的强大工具，其三大核心应用为：
        1.  **表单验证 (Matching):** 检查输入是否符合特定格式（如手机号、邮箱）。
        2.  **内容过滤 (Replacing):** 查找并替换敏感词等。
        3.  **信息提取 (Extracting):** 从复杂字符串中提取需要的部分。

2.  **基本语法与方法:**
    *   **创建:** 掌握了字面量创建方式 `const reg = /pattern/flags;`。
    *   **测试方法:**
        *   `reg.test(str)`: 用于**验证**，返回 `true`/`false`。
        *   `reg.exec(str)`: 用于**提取**第一个匹配项，返回数组或`null`。
    *   **核心元字符:** 学习了边界符 (`^`, `$`)、量词 (`*`, `+`, `?`, `{}`), 字符类 (`[]`, `[^]`, `|`) 及预定义类 (`\d`, `\w`, `\s`, `.`)。
    *   **修饰符 (Flags):**
        *   `i` (ignoreCase): 忽略大小写。
        *   `g` (global): 全局匹配，对于 `.replace()` 替换所有匹配项至关重要。
    *   **动态构建正则 (重点):**
        > [!IMPORTANT]
        > 当正则表达式的模式需要包含**变量**时，必须使用**构造函数 `new RegExp(patternString, flags)`** 的方式来创建，而不是字面量。

### **第二部分：大型综合案例 - “小兔鲜” 注册与登录**

这是一个毕业级的、功能极其完备的综合案例，完美融合了DOM、BOM、事件、正则及本地存储。

1.  **注册页面 (`register.html`):**
    *   **模块化开发:** 将复杂的注册流程拆解为“发送验证码”、“分步表单验证”、“阅读同意”、“最终提交”等多个独立模块，思路清晰。
    *   **函数封装与复用:**
        *   将每个表单字段的验证逻辑封装到独立的 `verify()` 函数中，实现了代码的高度复用。
        *   在 `blur`/`change` 事件和最终的 `submit` 事件中都调用了这些验证函数。
    *   **事件处理:**
        *   **事件委托:** 在“Tab栏切换”中，成功实践了事件委托模式，代码更高效。
        *   **`change` vs `blur`:** 探讨并实践了两种失焦验证事件的细微区别。
        *   **`this` 指向:** 解决了在 `addEventListener` 中**箭头函数 `=>`** 与**普通函数 `function()`** 的 `this` 指向不同的经典问题。
    *   **DOM 遍历 (关键细节):**
        *   深刻区分了 `nextSibling` (可能获取到无用的空白文本节点) 和 **`nextElementSibling` (推荐，直接获取下一个元素节点)** 的区别。

2.  **登录页面 (`login.html`):**
    *   **表单默认行为控制:**
        *   掌握了使用 `e.preventDefault()` 来阻止表单的默认提交行为。
        *   了解了通过 `autocomplete="off"` 属性来建议浏览器关闭输入历史的自动填充功能。
    *   **本地存储实践 (`localStorage`):**
        *   在登录成功后，使用 `localStorage.setItem('key', value)` 将用户信息（如用户名）持久化存储到浏览器中。
        *   使用 `location.href = '...'` 实现页面跳转。

3.  **首页 (`index.html`):**
    *   **登录状态保持:**
        *   **核心逻辑:** 在页面加载时，通过 `localStorage.getItem('key')` 检查是否存在用户信息。
        *   **数据驱动视图:** 根据本地存储的数据状态，动态渲染页面UI（显示“你好，XXX”或“你好，游客”）。
        *   **退出登录:** 通过给“退出”按钮绑定 `click` 事件，调用 `localStorage.removeItem('key')` 来清除登录状态，并**再次调用渲染函数**以更新UI，形成了完美的逻辑闭环。

---

### 🤔 思考与心得

*   **编程思想的飞跃:** 在本阶段的学习中，**“数据驱动视图”** 和 **“代码复用”** 的思想已经深入人心。在处理复杂案例时，不再是面向DOM的“打地鼠”式编程，而是先思考**数据结构**，再通过**统一的渲染函数**和**可复用的逻辑函数**来构建应用。
*   **细节决定成败:** 通过解决 `nextSibling` vs `nextElementSibling`、箭头函数的 `this` 指向、`localStorage` 只能存字符串等问题，深刻体会到对语言细节的精准掌握是编写健壮代码的关键。
*   **学以致用，形成闭环:** 将之前悬而未决的思考题（如动画结合`display:none`）作为新的学习任务来完成，这种“带着问题学习，用新知识解决旧问题”的方式，让知识掌握得异常牢固。

---

### 🚀 后续计划

*   **正式开启“现代JS必备包”的学习：**
    1.  箭头函数 (深入理解其 `this` 行为)。
    2.  解构赋值 (数组和对象)。
    3.  数组的高阶方法 (`forEach`, `map`, `filter`, `reduce` 等)。
    4.  Promise 与 `async/await` (异步编程的现代解决方案)。
*   **准备进入 React/Vue 框架学习阶段。**
