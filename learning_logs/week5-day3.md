## 学习简报 - 2024年06月25日

**总学习时长 (此期间合计)：** 约 6 小时

**学习课程/内容：** 黑马程序员 - 《前端JavaScript入门到精通全套视频教程》(ES6/API/JS高级)

**核心任务：深度复习CSS核心概念，并系统学习Web APIs，重点掌握DOM操作与事件监听。**

**完成内容与学习点：**

### **第一部分：CSS 核心概念深度思考与复习 (重点)**

通过对7个高质量思考题的深入探讨，对CSS的理解提升到了一个新的层次。

1.  **`z-index` 与层叠上下文 (Stacking Context):**
    *   **核心结论:** `z-index` 大的不一定在小的上面。其大小比较**仅在同一个层叠上下文中有效**。
    *   **触发条件:** `z-index` 只对**定位元素**（`position` 非 `static`）生效。
    *   **跨上下文比较:** 元素的堆叠顺序取决于其**父级层叠上下文**的层级，子元素无法“逃逸”出父级上下文。
    *   **创建方式:** 除了定位元素的 `z-index` 不为 `auto`，还包括 `opacity < 1`，设置了 `transform`, `filter` 等多种方式。

2.  **Bootstrap 栅格系统设计原理:**
    *   **核心组件:** `.container` (版心), `.row` (行), `.col-*` (列)。
    *   **间距实现:** 通过给 `.col` 设置 `padding` 来创建列间距 (Gutter)。
    *   **负 `margin` 的作用 (精髓):**
        > [!IMPORTANT]
        > 在 `.row` 上设置与 `.col` 的 `padding` 等值的**负 `margin`**（如 `margin-left: -15px;`），是为了**抵消**第一列和最后一列多余的 `padding`，从而使整行内容与父容器边缘完美对齐。

3.  **`display: none` 与动画结合:**
    *   **核心问题:** `display` 是非连续性属性，无法直接参与 `transition` 动画。
    *   **解决方案:** 分两步走，用JS作为“协调者”。
        1.  **CSS 动画:** 使用 `opacity` 或 `transform` 等可动画属性实现平滑的视觉过渡。
        2.  **JS 监听:** 使用 `addEventListener` 监听 **`transitionend`** 或 **`animationend`** 事件。
        3.  **收尾操作:** 在事件回调函数中，再将元素的 `display` 设置为 `none`，使其彻底从布局流中移除。
        4.  （待完成）做一个元素逐渐隐藏并消失的动画

4.  **文本换行控制:**
    *   **`overflow`:** 控制内容溢出容器后的宏观表现（`visible`, `hidden`, `scroll`, `auto`）。
    *   **`word-break: break-all;`:** “暴力”地在任意字符间截断换行。
    *   **`overflow-wrap: break-word;`:** “智能”地只在长单词本身超出容器时才截断。
    *   **`white-space`:** 控制空白符和换行符的解释行为（`normal`, `nowrap`, `pre` 等）。

5.  **`inline` vs `inline-block`:**
    *   **核心区别:**
        *   `inline` 元素**无法**设置宽高和上下 `margin`。
        *   `inline-block` **可以**设置宽高和完整的 `margin`/`padding`，同时保持了 `inline` **不独占一行**的特性。
    *   **对齐方式 (非Flexbox):**
        *   **水平对齐:** 在**父元素**上使用 `text-align`。
        *   **垂直对齐:** 在**元素自身**上使用 `vertical-align`。

6.  **现代JS语法补充:**
    *   **可选链操作符 (`?.`):** 用于安全地访问深层嵌套对象属性，避免因中间层为 `null` 或 `undefined` 而报错。`const name = user?.address?.street?.name;`
    *   **空值合并操作符 (`??`):** 用于设置默认值，但仅在左侧操作数为 `null` 或 `undefined` 时才生效，避免了 `||` 会将 `0`, `''`, `false` 等假值也覆盖掉的问题。`const amount = userInput ?? 1;`

### **第二部分：Web APIs - DOM 核心操作**

7.  **操作元素样式 (深入总结):**
    *   **`.style`:** 修改行内样式，优先级高，适合少量、动态的样式。属性名需转为**小驼峰**。
    *   **`.className`:** **覆盖式**地修改 `class` 属性，操作不便。
    *   **`.classList` (最佳实践):**
        *   `element.classList.add('类名')`: **追加**类，安全不覆盖。
        *   `element.classList.remove('类名')`: 移除类。
        *   `element.classList.toggle('类名')`: **切换**类，非常适合做开关效果。

8.  **操作表单元素属性:**
    *   **`.value` vs `.innerHTML` (关键区分):**
        > [!TIP]
        > 获取/设置表单控件（如 `<input>`）的值用 **`.value`**；获取/设置容器元素（如 `<div>`）的内部HTML用 **`.innerHTML`**。
    *   **布尔属性 (`disabled`, `checked`, `selected`):** 在JS中，应直接赋**布尔值 `true`/`false`** 来控制其状态。

9.  **自定义属性 (`data-*`):**
    *   **HTML:** 以 `data-` 开头，短横线命名 (如 `data-user-id`)。
    *   **JS:** 通过 `element.dataset` 对象访问，属性名会自动转为**小驼峰** (如 `element.dataset.userId`)。

10. **定时器 - 间歇函数:**
    *   **开启:** `let timerId = setInterval(callback, delay);`，返回一个唯一的ID。
    *   **关闭:** `clearInterval(timerId);`，必须传入保存的ID。
    *   **实践:** 通过“协议阅读倒计时”案例，综合运用了定时器、DOM操作和逻辑判断。

11. **事件监听 (`addEventListener`) 入门:**
    *   **三要素:** 事件源、事件类型、事件处理程序。
    *   **语法:** `element.addEventListener('click', function() { ... });`
    *   **核心优势:** 可对同一事件绑定**多个**处理函数，不会像 `.onclick` 那样被覆盖。

12. **大型综合案例 - 轮播图 (自动播放版):**
    *   通过此案例，完整地实践了从“数据驱动”到“UI渲染”的前端核心开发流程。
    *   在实现过程中，解决了模板字符串中**引号**的常见错误，并对代码进行了**函数化重构**的思考。

---

### 🤔 思考与心得

*   **深度优于广度:** 今天花费大量时间深入研究CSS核心概念，其价值远超于多学几个新属性。对层叠上下文、栅格系统原理的理解，是构建复杂、健壮布局的基础。
*   **学以致用:** 刚学习了 `addEventListener`，就立刻思考如何用它来解决之前遇到的“动画+`display:none`”问题，这种带着问题去学习的方式效率极高。
*   **代码质量意识:** 开始主动思考代码的复用性（函数封装）、健壮性（可选链 `?.`，空值合并 `??`）和规范性（`const` 的使用），这是从“实现功能”到“写好代码”的关键转变。
*   **理论联系实际:** 乱码问题让我对 **文件编码** 这一基础理论有了实践层面的认识；`title` 显示慢的问题让我了解了**原生浏览器行为**与**自定义组件**的区别。

---

### 🚀 后续计划

*   系统学习 DOM 事件的更多类型和高级概念（如事件流、事件委托）。
*   完成轮播图案例的交互功能（左右箭头、鼠标悬停暂停等）。
*   实践“淡出后彻底消失”的功能。
*   API 内容还有 6 天课程时，JS 进阶还有 4 天，一共 10 天。一天最好完成 3 课程时。
